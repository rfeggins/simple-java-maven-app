@Library('pipeline-library-demo')_

pipeline {
    agent any

    environment {
      Integer deployed_to_qa = 91
      Integer ready_for_po = 6
      jiraSite = "Hertz-Jira"  // Hertz site
      ddtl_ID =  "ddtl-1122"
      jiraComment = "No Comment"
      gitCommitMsg = ""
      current_state = ""

      //initializing a local variable
      in_progress = "https://hertzdigital.atlassian.net/rest/api/2/status/11408"
      dev_complete = "https://hertzdigital.atlassian.net/rest/api/2/status/11419"
      ready_to_deploy = "https://hertzdigital.atlassian.net/rest/api/2/status/6"
      to_do = "https://hertzdigital.atlassian.net/rest/api/2/status/11300"

    }  // End of Environment block

    stages {
      stage('Build') {
          steps {
              echo "Build Stage - package result"
              // if Build success then
          } // End Steps
      } //End of Build Stage
      stage('Test') {
          steps {
              echo "Test Stage"
          }
      } // End of Test Stage

      stage('Deploy to Dev') {
          steps {
            script {
              Integer newState = 101
              trans_TO_ReadyToDeploy(jiraSite, ddtl_ID, newState )
            } // END Script Section
         } // END Step
      } // End of Stage


    } // STAGES



} // PIPELINE END
